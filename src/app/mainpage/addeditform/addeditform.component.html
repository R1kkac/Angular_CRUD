<div class="container mt-4">
  
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Manga Form</h1>
  </div>
  <form [formGroup]="empForm">
    <div class="row">
      <div class="col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Tên truyện</mat-label>
          <input matInput type="text" placeholder="Naruto" formControlName="mangaName">
        </mat-form-field>
      </div>
      <!-- Thêm các trường form khác theo cùng mẫu -->
      <div class="col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Tên khác</mat-label>
          <input matInput type="text" placeholder="Naruto" formControlName="mangaAlternateName">
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Tác giả</mat-label>
          <input matInput type="text" placeholder="Naruto" formControlName="mangaAuthor">
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Họa sĩ</mat-label>
          <input matInput type="text" placeholder="Naruto" formControlName="mangaArtist">
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Kiểu truyện</mat-label>
          <mat-select formControlName="type">
            <mat-option *ngFor="let typeManga of typeMangas" [value]="typeManga.id">
              {{ typeManga.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Thể loại</mat-label>
          <mat-select formControlName="genres" multiple (selectionChange)="onGenreChange($event)">
            <mat-option *ngFor="let genre of genresList" [value]="genre.genreId">{{genre.genresIdName}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Mô tả</mat-label>
          <textarea matInput formControlName="mangaDetails"></textarea>
        </mat-form-field>
      </div>
    </div>
    <!-- Các trường form còn lại -->
    <div class="row mt-3">
      <div class="col-md-12">
        <div class="image-container">
          <img *ngIf="currentImage" [src]="currentImage" alt="Selected manga image" class="image-preview"/>
          <input type="file" accept="image/*" (change)="selectFile($event)" class="form-control">
        </div>
      </div>
    </div>
    <div class="container mt-4">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <button mat-raised-button color="warn" [routerLink]="['/Mangas']" [queryParams]="{isPersonal: isPersonalManga}">Quay lại</button>
        <button mat-raised-button color="primary" class="mr-2" (click)="onFormSubmit()" [disabled]="!empForm.valid">
          {{empForm.valid ? 'Cập nhật' : 'Thêm'}}
        </button>
        
      </div>
    </div>
  </form>
</div>